# Axiom Investment Banking Analytics - Environment Configuration

# Required API Keys for Financial Data - Supports Multiple Keys for Failover
# Single keys:
TAVILY_API_KEY=your_tavily_api_key_here
FIRECRAWL_API_KEY=your_firecrawl_api_key_here

# Multiple keys (comma-separated for quota failover):
# TAVILY_API_KEYS=key1,key2,key3
# FIRECRAWL_API_KEYS=key1,key2,key3
# TAVILY_ROTATION_ENABLED=true
# FIRECRAWL_ROTATION_ENABLED=true

# Global API Key Rotation Setting
# API_KEY_ROTATION_ENABLED=true

# Multi-AI Provider Configuration for Investment Banking Analytics
# Configure only the providers you want to use - system will auto-detect available providers

# OpenAI Configuration (Optional) - Supports Multiple Keys for Failover
# Single key:
# OPENAI_API_KEY=sk-your_openai_api_key_here
# Multiple keys (comma-separated for quota failover):
# OPENAI_API_KEYS=sk-key1,sk-key2,sk-key3
# OPENAI_BASE_URL=https://api.openai.com/v1
# OPENAI_MODEL_NAME=gpt-4o-mini
# OPENAI_ROTATION_ENABLED=true

# Claude Configuration (Optional) - Supports Multiple Keys for Failover
# Single key:
# CLAUDE_API_KEY=sk-ant-your_claude_api_key_here
# Multiple keys (comma-separated for quota failover):
# CLAUDE_API_KEYS=sk-ant-key1,sk-ant-key2,sk-ant-key3
# CLAUDE_BASE_URL=https://api.anthropic.com
# CLAUDE_MODEL_NAME=claude-3-sonnet-20240229
# CLAUDE_ROTATION_ENABLED=true

# SGLang Local Inference (Optional - NVIDIA systems only)
# SGLANG_API_KEY=  # Usually not needed for local inference
# SGLANG_BASE_URL=http://localhost:30000/v1
# SGLANG_MODEL_NAME=meta-llama/Meta-Llama-3.1-8B-Instruct

# Hugging Face Configuration (Optional)
# HUGGINGFACE_API_KEY=hf_your_huggingface_api_key_here
# HUGGINGFACE_BASE_URL=https://api-inference.huggingface.co
# HUGGINGFACE_MODEL_NAME=microsoft/DialoGPT-medium

# Google Gemini Configuration (Optional)
# GEMINI_API_KEY=your_gemini_api_key_here
# GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
# GEMINI_MODEL_NAME=gemini-1.5-pro

# Usage Examples:
# Single provider: Uncomment one provider's credentials above
# Multiple providers: Uncomment multiple providers for layer-specific usage and consensus

# ============================================================================
# üåü EXTERNAL MCP SERVERS - Community-Maintained (RECOMMENDED)
# ============================================================================
# Zero maintenance burden! Use these instead of REST API wrappers.
# See: docs/EXTERNAL_MCP_MIGRATION.md

# OpenBB MCP Server ‚≠ê HIGHEST PRIORITY - Replaces 5+ REST providers!
# Get FREE key at: https://openbb.co/
OPENBB_API_KEY=your_openbb_api_key_here

# SEC Edgar MCP Server - 100% FREE unlimited SEC filings
# Optional - works without key for basic access
# SEC_API_KEY=your_sec_api_key_here

# FRED Economic Data MCP - 800K+ time series - 100% FREE
# Get FREE key at: https://research.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_fred_api_key_here

# CoinGecko MCP Server - 100% FREE (no API key needed!)
# COINGECKO_API_KEY=  # Not required for free tier

# NewsAPI MCP Server - 80K+ news sources
# Get FREE key at: https://newsapi.org/
NEWS_API_KEY=your_news_api_key_here

# Enhanced Financial Data Sources - Phase 2+ (Add as needed for premium features)

# üÜì FREE TIER FINANCIAL DATA (No API keys required - 100% FREE)
# Yahoo Finance - Completely FREE unlimited (no API key needed)
# SEC Edgar - US Government data (no API key needed)
# OpenBB Community - Open source (no API key needed)

# ‚ö†Ô∏è DEPRECATED - Use External MCPs Instead
# These REST API wrappers are being replaced by external MCP servers above.
# They still work but will be removed in a future version.

# üí∞ AFFORDABLE PREMIUM FINANCIAL DATA PROVIDERS (DEPRECATED)
# Alpha Vantage - FREE tier: 500 calls/day | Premium: $49/month unlimited
# ‚ö†Ô∏è DEPRECATED: Use OPENBB_API_KEY instead
# ALPHA_VANTAGE_API_KEY=your_alpha_vantage_key_here

# Financial Modeling Prep - FREE tier: 250 calls/day | Premium: $14/month
# ‚ö†Ô∏è DEPRECATED: Use OPENBB_API_KEY instead
# FINANCIAL_MODELING_PREP_API_KEY=your_fmp_key_here

# IEX Cloud - FREE tier: 500K credits/month | Premium: $9/month
# ‚ö†Ô∏è DEPRECATED: Use OPENBB_API_KEY instead
# IEX_CLOUD_API_KEY=your_iex_cloud_key_here

# Finnhub - FREE tier: 60 calls/minute | Premium: $7.99/month
# ‚ö†Ô∏è DEPRECATED: Use OPENBB_API_KEY instead
# FINNHUB_API_KEY=your_finnhub_key_here

# üèÜ PROFESSIONAL MCP SERVERS API KEYS

# Official Polygon.io MCP Server - FREE tier: 5 calls/minute | Premium: $25/month unlimited
# Get FREE key at: https://polygon.io/
POLYGON_API_KEY=your_polygon_io_api_key_here

# API Key Rotation for FREE Tier Optimization (Multiple FREE accounts)
# Each Polygon.io FREE account: 5 calls/minute ‚Üí Total with 3 keys: 15 calls/minute
# POLYGON_API_KEY_1=your_first_polygon_free_key
# POLYGON_API_KEY_2=your_second_polygon_free_key
# POLYGON_API_KEY_3=your_third_polygon_free_key
# POLYGON_API_ROTATION_ENABLED=true

# Yahoo Finance MCP Servers - 100% FREE (no API keys needed!)
# ‚úÖ yahoo-finance-professional: 27 advanced financial tools (FREE)
# ‚úÖ yahoo-finance-comprehensive: Complete fundamental analysis (FREE)

# ============================================================================
# üê≥ UNIFIED FINANCIAL DATA SERVICES CONFIGURATION
# ============================================================================
# This section configures MCP Servers and Provider Containers
# Managed via: axiom/integrations/data_sources/finance/manage-financial-services.sh
# Docker Compose: axiom/integrations/data_sources/finance/docker-compose.yml

# üåü EXTERNAL MCP SERVERS (Profile: external) - RECOMMENDED:
# - openbb-server: Comprehensive market data (uses OPENBB_API_KEY above)
# - sec-edgar-server: SEC filings (uses SEC_API_KEY above)
# - fred-server: Economic data (uses FRED_API_KEY above)
# - coingecko-server: Crypto data (no key needed!)
# - newsapi-server: News aggregation (uses NEWS_API_KEY above)

# MCP SERVERS (Profile: mcp) - Model Context Protocol for AI integration:
# - polygon-io-server: Real-time market data (uses POLYGON_API_KEY above)
# - yahoo-finance-professional: 27 tools (100% FREE, no key needed)
# - yahoo-finance-comprehensive: Fundamental analysis (100% FREE, no key needed)
# - firecrawl-server: Web scraping (uses FIRECRAWL_API_KEY above)

# ‚ö†Ô∏è PROVIDER CONTAINERS (Profile: providers) - DEPRECATED - Use external MCPs:
# - tavily-provider (8001): Search & intelligence (keep - no MCP yet)
# - fmp-provider (8002): Financial data ‚Üí Use openbb-server instead
# - finnhub-provider (8003): Market data ‚Üí Use openbb-server instead
# - alpha-vantage-provider (8004): Financial data ‚Üí Use openbb-server instead

# All services use the same API keys defined above - no duplication needed!
# Multiple API keys for rotation (optional):
# TAVILY_API_KEYS=key1,key2,key3
# TAVILY_ROTATION_ENABLED=true

# Docker Provider Container Port Configuration (optional, defaults shown):
# TAVILY_PROVIDER_PORT=8001
# FMP_PROVIDER_PORT=8002
# FINNHUB_PROVIDER_PORT=8003
# ALPHA_VANTAGE_PROVIDER_PORT=8004

# üìã OTHER FINANCIAL DATA SOURCES
# SEC Edgar API - 100% FREE US Government data
SEC_EDGAR_USER_AGENT=Axiom_Analytics contact@yourcompany.com

# üîÑ Financial Data Provider Rotation Settings
FINANCIAL_API_ROTATION_ENABLED=true
FINANCIAL_RATE_LIMIT_BUFFER=0.1
FINANCIAL_FALLBACK_ENABLED=true

# üí° COST OPTIMIZATION NOTES (Updated with External MCPs):
# - External MCPs only: $0-50/month (OpenBB + FRED + SEC + CoinGecko + NewsAPI)
# - Legacy providers (deprecated): $71/month
# - Maintenance time saved: 310 hours/year (~$31,000 value)
# - Total annual savings: $31,252-31,852 vs legacy approach
# - vs Bloomberg Terminal: $2,000/month (97%+ cost savings!)
#
# Recommended Setup:
# 1. Core (100% FREE): OpenBB free tier + FRED + SEC Edgar + CoinGecko
# 2. Professional ($50/month): OpenBB premium for unlimited access

# Audit Trails and Compliance Tracking
LANGCHAIN_TRACING_V2=true
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com
LANGCHAIN_API_KEY=your_langsmith_api_key_here
LANGCHAIN_PROJECT=axiom-investment-banking

# Investment Banking Analysis Settings
DEBUG=false
MAX_PARALLEL_ANALYSIS_TASKS=5
FINANCIAL_DATA_DEPTH=comprehensive
DUE_DILIGENCE_CONFIDENCE_THRESHOLD=0.8
VALUATION_MODEL_TYPES=dcf,comparable,precedent

# Risk Assessment Parameters
RISK_ANALYSIS_ENABLED=true
REGULATORY_COMPLIANCE_CHECK=true
MARKET_VOLATILITY_ASSESSMENT=true

# Note: For local SGLang inference on NVIDIA systems, update OPENAI_BASE_URL to http://localhost:30000/v1

# ============================================================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL Database (Required for institutional-grade data management)
POSTGRES_USER=axiom
POSTGRES_PASSWORD=axiom_password_change_in_production
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=axiom_finance

# PgAdmin (Optional - Database Management UI)
PGADMIN_EMAIL=admin@axiom.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ============================================================================
# üîç VECTOR DATABASE CONFIGURATION (For Semantic Search & RAG)
# ============================================================================

# Vector Store Type: 'pinecone', 'weaviate', or 'chroma'
VECTOR_STORE_TYPE=chroma

# Pinecone (Production - Cloud-hosted)
# PINECONE_API_KEY=your_pinecone_api_key_here
# PINECONE_ENVIRONMENT=us-east1-gcp

# Weaviate (Self-hosted option)
WEAVIATE_URL=http://localhost:8080
# WEAVIATE_API_KEY=optional_api_key_if_auth_enabled
WEAVIATE_PORT=8080

# ChromaDB (Local development - lightweight)
CHROMA_PERSIST_DIRECTORY=./data/chroma
CHROMA_PORT=8000

# Redis Cache (Optional - for performance optimization)
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=axiom_redis

# ============================================================================
# üìä DATA MANAGEMENT SETTINGS
# ============================================================================

# Enable automatic database backups
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30

# Enable query logging for performance monitoring
DB_QUERY_LOGGING=false
DB_SLOW_QUERY_THRESHOLD=1.0  # Log queries slower than 1 second

# Vector DB sync settings
VECTOR_SYNC_BATCH_SIZE=100

# ============================================================================
# ‚òÅÔ∏è WEEK 3 MCP SERVERS CONFIGURATION
# ============================================================================

# ===== AWS MCP SERVER =====
# AWS_MCP_REGION=us-east-1
# AWS_MCP_ACCESS_KEY_ID=your_aws_access_key
# AWS_MCP_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_MCP_PROFILE=default  # Alternative to access keys

# ===== GCP MCP SERVER =====
# GCP_MCP_PROJECT_ID=your-project-id
# GCP_MCP_CREDENTIALS_PATH=/path/to/credentials.json

# ===== NOTIFICATION MCP SERVER =====
# SMTP Configuration (Gmail, Outlook, etc.)
# NOTIFICATION_MCP_SMTP_SERVER=smtp.gmail.com
# NOTIFICATION_MCP_SMTP_PORT=587
# NOTIFICATION_MCP_SMTP_USER=your-email@gmail.com
# NOTIFICATION_MCP_SMTP_PASSWORD=your-app-password
# NOTIFICATION_MCP_SMTP_FROM_ADDRESS=noreply@axiom.com
# NOTIFICATION_MCP_SMTP_USE_TLS=true

# SendGrid Configuration (Optional - for transactional emails)
# NOTIFICATION_MCP_SENDGRID_API_KEY=SG.xxx

# Mailgun Configuration (Optional - alternative to SendGrid)
# NOTIFICATION_MCP_MAILGUN_API_KEY=your_mailgun_key
# NOTIFICATION_MCP_MAILGUN_DOMAIN=mg.yourdomain.com

# Twilio Configuration (Optional - for SMS)
# NOTIFICATION_MCP_TWILIO_ACCOUNT_SID=ACxxx
# NOTIFICATION_MCP_TWILIO_AUTH_TOKEN=xxx
# NOTIFICATION_MCP_TWILIO_FROM_NUMBER=+1234567890

# Default notification channel
# NOTIFICATION_MCP_DEFAULT_CHANNEL=email  # email or sms

# ===== VECTOR DB MCP SERVER =====
# Provider: pinecone, weaviate, chromadb, or qdrant
VECTOR_DB_MCP_PROVIDER=chromadb
VECTOR_DB_MCP_DIMENSION=1536  # OpenAI embedding dimension

# Pinecone (Production - Cloud)
# VECTOR_DB_MCP_API_KEY=your_pinecone_key
# VECTOR_DB_MCP_ENVIRONMENT=us-west1-gcp
# VECTOR_DB_MCP_INDEX_NAME=axiom-index

# Weaviate (Self-hosted)
VECTOR_DB_MCP_WEAVIATE_URL=http://localhost:8080

# ChromaDB (Local development)
VECTOR_DB_MCP_CHROMADB_PATH=./chroma_db
VECTOR_DB_MCP_CHROMADB_HOST=localhost
VECTOR_DB_MCP_CHROMADB_PORT=8000

# Qdrant (Alternative)
VECTOR_DB_MCP_QDRANT_URL=http://localhost:6333
VECTOR_DB_MCP_QDRANT_COLLECTION=axiom-collection

# ===== KUBERNETES MCP SERVER =====
# K8S_MCP_CONFIG_PATH=/path/to/kubeconfig  # Optional, uses default
# K8S_MCP_NAMESPACE=axiom
# K8S_MCP_CONTEXT=production  # Optional, uses current context

# ============================================================================
# üîß WEEK 3 SERVICE PORTS (Docker Compose)
# ============================================================================
# ChromaDB Vector Database: http://localhost:8000
# Qdrant Vector Database: http://localhost:6333
# Weaviate Vector Database: http://localhost:8080
# LocalStack (AWS Local): http://localhost:4566
# MailHog SMTP: localhost:1025 (Web UI: http://localhost:8025)
VECTOR_SYNC_ENABLED=true